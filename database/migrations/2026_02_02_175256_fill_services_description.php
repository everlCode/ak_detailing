<?php

use App\Models\Service;
use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;
use Illuminate\Support\Facades\DB;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Service::query()->delete();

        $description = [
            [
                'name' => 'Химчистка авто',
                'price' => 5000,
                'alias' => 'himchistka-avto',
                'description' => '<p>
Профессиональная <strong>химчистка автомобиля в Кирове</strong> позволяет полностью очистить салон
от загрязнений, пыли, пятен и неприятных запахов. Мы используем безопасную автохимию,
которая эффективно очищает и не повреждает материалы салона.
</p>

<p>
Химчистка подходит для тканевых и кожаных салонов, а также потолка, ковров,
дверных карт и багажника.
</p>

<h2>Преимущества химчистки салона</h2>
<ul>
    <li>удаление сложных пятен и загрязнений;</li>
    <li>устранение запахов;</li>
    <li>восстановление внешнего вида салона;</li>
    <li>безопасно для детей и аллергиков.</li>
</ul>

<p>
<strong>Химчистка авто в Кирове</strong> — идеальное решение для поддержания чистоты и комфорта в автомобиле.
</p>',
                'short_description' => 'Глубокая чистка салона: удаление пятен, запахов и восстановление внешнего вида.',
            ],

            [
                'name' => 'Полировка кузова',
                'price' => 3000,
                'alias' => 'polirovka',
                'description' => '<p>
Профессиональная <strong>полировка авто в Кирове</strong> — эффективный способ вернуть кузову
блеск и насыщенный цвет. Полировка удаляет мелкие царапины, потёртости и голограммы.
</p>

<h2>Что даёт полировка кузова</h2>
<ul>
    <li>восстановление блеска;</li>
    <li>удаление дефектов ЛКП;</li>
    <li>защита от выгорания;</li>
    <li>улучшение внешнего вида авто.</li>
</ul>

<p>
Цена на <strong>полировку автомобиля в Кирове</strong> зависит от состояния кузова и объёма работ.
</p>',
                'short_description' => 'Восстановление блеска и устранение мелких дефектов лакокрасочного покрытия.',
            ],

            [
                'name' => 'Бронирование бронеплёнкой',
                'price' => 10000,
                'alias' => 'bronirovanie-plenkoy',
                'description' => '<p>
<strong>Бронирование автомобиля плёнкой в Кирове</strong> защищает кузов от сколов,
царапин и воздействия реагентов. Используем качественные полиуретановые плёнки
с высокой степенью прозрачности.
</p>

<h2>Преимущества бронирования</h2>
<ul>
    <li>защита лакокрасочного покрытия;</li>
    <li>сохранение заводского вида авто;</li>
    <li>долговечность и надёжность;</li>
    <li>возможность частичной или полной оклейки.</li>
</ul>',
                'short_description' => 'Надёжная защита кузова от сколов и царапин прозрачной полиуретановой плёнкой.',
            ],

            [
                'name' => 'Керамическое покрытие',
                'price' => 8000,
                'alias' => 'keramika-avto',
                'description' => '<p>
Нанесение <strong>керамического покрытия в Кирове</strong> обеспечивает кузову
долговременную защиту и глубокий блеск. Керамика снижает воздействие грязи,
воды и ультрафиолета.
</p>

<h2>Почему стоит выбрать керамику</h2>
<ul>
    <li>гидрофобный эффект;</li>
    <li>защита от выгорания;</li>
    <li>облегчённая мойка автомобиля;</li>
    <li>длительный срок службы.</li>
</ul>',
                'short_description' => 'Длительная защита и гидрофобный блеск для кузова автомобиля.',
            ],

            [
                'name' => 'Анти-дождь',
                'price' => 1500,
                'alias' => 'anti-dozhd',
                'description' => '<p>
Услуга <strong>анти-дождь в Кирове</strong> улучшает видимость в дождливую погоду.
Состав наносится на лобовое и боковые стёкла, отталкивая воду и грязь.
</p>

<ul>
    <li>улучшение обзора;</li>
    <li>безопасность в плохую погоду;</li>
    <li>эффект до нескольких месяцев.</li>
</ul>',
                'short_description' => 'Нанесение состава, улучшающего обзор: вода и грязь легко скатываются со стёкол.',
            ],

            [
                'name' => 'Шумоизоляция авто',
                'price' => 5000,
                'alias' => 'shumoizolyaciya',
                'description' => '<p>
<strong>Шумоизоляция автомобиля в Кирове</strong> значительно снижает уровень шума
от дороги, двигателя и колёс. Повышает комфорт при поездках на любые расстояния.
</p>

<ul>
    <li>тихий салон;</li>
    <li>улучшение акустики;</li>
    <li>индивидуальный подбор материалов.</li>
</ul>',
                'short_description' => 'Снижение внешнего шума и улучшение акустического комфорта в салоне.',
            ],

            [
                'name' => 'Установка Bi-Led',
                'price' => 19000,
                'alias' => 'ustanovka-bi-led',
                'description' => '<p>
Профессиональная <strong>установка Bi-Led фар в Кирове</strong> обеспечивает яркий
и безопасный свет в любое время суток. Улучшается видимость и внешний вид автомобиля.
</p>

<ul>
    <li>чёткая светотеневая граница;</li>
    <li>долгий срок службы;</li>
    <li>установка под ключ.</li>
</ul>',
                'short_description' => 'Установка современных Bi-Led фар для улучшенной видимости и стиля.',
            ],

            [
                'name' => 'Трёхфазная мойка кузова',
                'price' => 1500,
                'alias' => 'trehfaznaya-moyka',
                'description' => '<p>
<strong>Трёхфазная мойка автомобиля в Кирове</strong> — безопасный и эффективный
способ очистки кузова без риска появления царапин.
</p>

<ul>
    <li>предварительная мойка;</li>
    <li>ручная очистка;</li>
    <li>защитный состав.</li>
</ul>',
                'short_description' => 'Тщательная трёхэтапная мойка для безопасной и качественной очистки кузова.',
            ],

            [
                'name' => 'Озонирование салона',
                'price' => 800,
                'alias' => 'ozonirovanie',
                'description' => '<p>
<strong>Озонирование салона в Кирове</strong> полностью устраняет бактерии,
вирусы и неприятные запахи. Процедура безопасна и эффективна.
</p>

<ul>
    <li>уничтожение запахов;</li>
    <li>антибактериальный эффект;</li>
    <li>свежесть в салоне.</li>
</ul>',
                'short_description' => 'Удаление запахов и бактерий с помощью озоновой обработки салона.',
            ],
        ];

        $now = now();
        $rows = array_map(fn($item) => array_merge($item, ['created_at' => $now, 'updated_at' => $now]), $description);

        DB::table('services')->insert($rows);
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        $aliases = [
            'himchistka-avto',
            'polirovka',
            'bronirovanie-plenkoy',
            'keramika-avto',
            'anti-dozhd',
            'shumoizolyaciya',
            'ustanovka-bi-led',
            'trehfaznaya-moyka',
            'ozonirovanie',
        ];

        DB::table('services')->whereIn('alias', $aliases)->delete();
    }
};
